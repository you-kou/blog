# 真人鉴定器

## 介绍

真人鉴定功能是一种常见的网络安全措施，用于保护网站免受机器人或自动化程序的恶意攻击。该功能基于人类视觉能力，要求用户在访问网站时通过切换右边轮播图，识别与左边要求的图片个数相符的图片，并点击“提交”按钮进行验证。

## 准备

[源代码](https://r2.code-snippet.online/md/lanqiao/%E7%9C%9F%E4%BA%BA%E9%89%B4%E5%AE%9A%E5%99%A8/question/code.zip)目录结构如下：

```txt
├── css
├── images
├── effect.gif
├── index.html
└── js
    └── index.js
```

其中：

- `css` 是样式文件夹。
- `images` 是图片文件夹。
- `effect.gif` 是最终效果图。
- `index.html` 是主页面。
- `js/index.js` 是待补充的代码 js 文件。

在浏览器中预览 `index.html` 页面效果如下：

![初始效果](https://r2.code-snippet.online/md/lanqiao/%E7%9C%9F%E4%BA%BA%E9%89%B4%E5%AE%9A%E5%99%A8/question/p1.png)

## 目标

本题需修复验证码功能，使用户可以正常切换右边轮播图。找到 `js/index.js` 文件中的 `changeBanner` 函数，完善其中的 TODO 部分，目标如下：

该函数接收一个参数 `isPre`（布尔值）区分当前点击的按钮。点击上一页/下一页时修改全局变量 `thisIndex`（即图片的索引）正确显示对应的图片，共四张图片。

1. 点击 “←”（`id=pre`）按钮时，`isPre` 为 `true`，轮播图切换到上一页。若当前轮播图为第一页，则切换到最后一页（即第四页）。
2. 点击 “→”（`id=next`）按钮时，`isPre` 为 `false`，轮播图切换到下一页。若当前轮播图为最后一页（即第四页），则切换到第一页。

最终效果可参考文件夹下面的 gif 图，图片名称为 `effect.gif`（提示：可以通过 VS Code 或者浏览器预览 gif 图片）。

## 规定

- 请严格按照考试步骤操作，切勿修改考试默认提供项目中的文件名称、文件夹路径、`id`、`class`、`DOM` 结构、以及函数名等，以免造成判题无法通过。

## 题解

```javascript
if (isPre && thisIndex === 0) {
  // 如果是切换到上一页（isPre 为 true）且当前索引 thisIndex 为 0（第一张图片），
  // 则将索引设置为 3，实现从第一张图片循环到最后一张图片的效果。
  thisIndex = 3;
} else {
  // 否则，根据 isPre 的值更新索引：
  // - 如果是切换到上一页（isPre 为 true），则 thisIndex 减 1；
  // - 如果是切换到下一页（isPre 为 false），则 thisIndex 加 1。
  // 通过 % 4 取模运算，确保索引在 0 到 3 之间循环。
  thisIndex = (thisIndex - (isPre ? 1 : -1)) % 4;
}
```

